<!DOCTYPE html>
<html lang="ko">
    <head>
        <title>daily</title>
        <link rel="stylesheet" href="./style/dailyStyle.css" />
        <script>
            document.addEventListener("DOMContentLoaded", (event) => {
                const initialDailyArray = [
                    {
                        id: 0,
                        moodEng: "happy",
                        mood: "행복해요",
                        date: today,
                        title: "타이틀 영역입니다.",
                        content: "컨텐츠 영역입니다.",
                        img: `./img/happy.png`,
                    },
                    {
                        id: 1,
                        moodEng: "sad",
                        mood: "슬퍼요",
                        date: today,
                        title: "타이틀 영역입니다.",
                        content: "컨텐츠 영역입니다.",
                        img: `./img/sad.png`,
                    },
                    {
                        id: 2,
                        moodEng: "surprise",
                        mood: "놀랐어요",
                        date: today,
                        title: "타이틀영역입니다.2131232132131231232131221312321312312",
                        content: "컨텐츠 영역입니다.",
                        img: `./img/surprise.png`,
                    },
                    {
                        id: 3,
                        moodEng: "etc",
                        mood: "기타",
                        date: today,
                        title: "타이틀 영역입니다.",
                        content: "컨텐츠 영역입니다.",
                        img: `./img/etc.png`,
                    },
                    {
                        id: 4,
                        moodEng: "angry",
                        mood: "화나요",
                        date: today,
                        title: "타이틀 영역입니다.",
                        content: "컨텐츠 영역입니다.",
                        img: `./img/angry.png`,
                    },
                ];
                const dailyArray = JSON.parse(
                    localStorage.getItem("dailyArray")
                );

                const parentElement = document.getElementById("post");

                if (!dailyArray) {
                    localStorage.setItem(
                        "dailyArray",
                        JSON.stringify(initialDailyArray)
                    );
                    initialDailyArray.map((resultObject, index) => {
                        const postContainer = document.createElement("a");
                        postContainer.href = `./dailyDetailInfor.html?id=${resultObject.id}`;
                        postContainer.className = "post-container";
                        postContainer.innerHTML = `
        <img src="${resultObject.img}" alt="1" id=${resultObject.id}  class="post-img" />
        <div class="post-title">
            <div class="post-font-${resultObject.moodEng}">${resultObject.mood}</div>
            <div class="post-date">${resultObject.date}</div>
        </div>
        <div class="post-content">${resultObject.title}</div>
    `;

                        parentElement.appendChild(postContainer);
                    });
                } else {
                    dailyArray.map((resultObject, index) => {
                        const postContainer = document.createElement("a");
                        postContainer.href = `./dailyDetailInfor.html?id=${resultObject.id}`;
                        postContainer.className = "post-container";
                        postContainer.innerHTML = `
        <img src="${resultObject.img}" alt="1" id=${resultObject.id}  class="post-img" />
        <div class="post-title">
            <div class="post-font-${resultObject.moodEng}">${resultObject.mood}</div>
            <div class="post-date">${resultObject.date}</div>
        </div>
        <div class="post-content">${resultObject.title}</div>
    `;

                        parentElement.appendChild(postContainer);
                    });
                }
            });
        </script>
    </head>
    <body>
        <main>
            <header>
                <div class="header-text-container">
                    <div class="header-text">민지의 다이어리</div>
                </div>
                <img src="./img/Rectangle1.png" alt="img" class="header-img" />
            </header>
            <article>
                <div class="article-header">
                    <div>일기 보관함</div>
                    <div class="article-header-text">사진 보관함</div>
                    <select name="" id="">
                        <option disabled selected>v 전체</option>
                        <option value="happy">행복해요</option>
                        <option value="sad">슬퍼요</option>
                        <option value="surprise">놀랐어요</option>
                        <option value="angry">화나요</option>
                        <option value="etc">기타</option>
                    </select>
                </div>
                <div class="article-main">
                    <div id="post" class="post"></div>
                    <div class="daily">
                        <div class="daily-header">📍 일기 쓰기</div>
                        <div class="daily-checkcontainer">
                            <div>오늘 기분은 어땟나요?</div>
                            <div class="daily-inputlist">
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="happy"
                                    />
                                    <label for="">행복해요</label>
                                </div>
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="sad"
                                    />
                                    <label for="">슬퍼요</label>
                                </div>
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="surprise"
                                    />
                                    <label for="">놀랐어요</label>
                                </div>
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="angry"
                                    />
                                    <label for="">화나요</label>
                                </div>
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="etc"
                                    />
                                    <label for="">기타</label>
                                </div>
                            </div>
                        </div>
                        <div class="daily-form">
                            <div class="daily-form-input">
                                <div class="daily-title">
                                    <div>제목</div>
                                    <input
                                        type="text"
                                        id="titleId"
                                        class="input-title"
                                        placeholder="제목을 입력해 주세요."
                                        oninput="onInputButtonChange()"
                                    />
                                </div>
                                <div class="daily-title">
                                    <div>내용</div>
                                    <textarea
                                        id="contentId"
                                        class="input-title input-content"
                                        placeholder="내용을 입력해주세요"
                                        oninput="onInputButtonChange()"
                                    ></textarea>
                                </div>
                            </div>
                            <button
                                id="submitButton"
                                class="submit-button"
                                onclick="pushDaily()"
                                disabled
                            >
                                등록하기
                            </button>
                        </div>
                    </div>
                </div>
            </article>
        </main>
        <footer>
            <div class="footer-1">민지의 다이어리</div>
            <div class="footer-2">대표 : 민지</div>
            <div class="footer-3">Copyright © 2024. {name} Co., Ltd.</div>
        </footer>
    </body>

    <script src="./utils/pushDaily.js"></script>
    <script src="./utils/onClickDailyInfor.js"></script>
    <script src="./utils/onInputButtonChange.js"></script>
</html>
